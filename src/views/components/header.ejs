<%
  // Composant Header
  // Variables attendues: contentBlock, user
  const bgImage = contentBlock.bg_image || '/assets/header-bg-default.svg';
  const logoSrc = contentBlock.header_logo || '/assets/logo-default.svg';
  const titleText = contentBlock.header_title;
%>

<header class="block-section header-section" data-block-id="<%= contentBlock.id %>" role="banner">
  <div class="header-bg" style="background-image: url(<%= bgImage %>)" role="img" aria-label="Image de fond du header">
    <div class="container">
      <div class="header-content">
        <img class="logo" src="<%= logoSrc %>" alt="Logo <%= titleText || 'du site' %>">
        <% if (titleText) { %>
          <h1 class="site-title"><%= titleText %></h1>
        <% } %>
        
        <% if (user) { %>
          <nav class="admin-nav" aria-label="Liens administration rapides">
            <a 
              class="admin-link" 
              href="/admins" 
              aria-label="GÃ©rer les administrateurs du site"
            >
              <span class="icon" role="img" aria-label="IcÃ´ne utilisateurs">ðŸ‘¥</span>
            </a>
          </nav>
        <% } %>
        
        <% if (user) { %>
          <div class="edit-controls" role="toolbar" aria-label="Actions d'Ã©dition du header">
            <%-
              include('icon-button', {
                type: 'button',
                className: 'edit-btn',
                icon: 'edit',
                ariaLabel: 'Modifier le header (logo et titre)',
                dataAttrs: {
                  'data-block-id': contentBlock.id,
                  'data-action': 'edit-header'
                }
              })
            %>
          </div>
        <% } %>
      </div>
    </div>
  </div>
</header>
